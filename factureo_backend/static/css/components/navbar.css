/* Navbar flotante en desktop */
.navbar.navbar-floating {
    position: sticky;
    top: 0;
    z-index: 1040;
    background: transparent;
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
}

/* En index: navbar superpuesta sobre el hero */
.navbar.navbar-floating.navbar-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1040;
}

.navbar .navbar-row {
    display: flex;
    gap: var(--gap-3);
}

.navbar .nav-shell {
    margin: .75rem auto;
    background-color: rgba(0,0,0,.35);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255,255,255,.08);
    border-radius: var(--radius-pill);
    padding: .35rem .5rem;
    box-shadow: var(--shadow-2);
}

.navbar .navbar-brand.brand-logo {
    font-family: "Pacifico", cursive;
    color: var(--color-1);
    font-size: clamp(1.5rem, 1.1rem + 1.2vw, 2.2rem);
    letter-spacing: 0.5px;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
    position: relative;
}

.navbar .navbar-brand.brand-logo:hover {
    /* Efecto de brillo suave en el texto */
    background: linear-gradient(90deg, var(--color-2), var(--color-1), var(--color-3));
    background-size: 200% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: brandShine 1.1s ease forwards;
}

.navbar .navbar-brand.brand-logo::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -4px;
    height: 2px;
    width: 100%;
    background: radial-gradient(40% 200% at 50% 50%, var(--accent-primary), transparent 70%), var(--accent-gradient);
    transform: scaleX(0.2);
    transform-origin: left;
    transition: transform 320ms cubic-bezier(.22,.61,.36,1);
    opacity: 0.85;
}

.navbar .navbar-brand.brand-logo:hover::after { transform: scaleX(1); }

@keyframes brandShine {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}

.navbar .logo-img { width: 28px; height: 28px; display: inline-block; }

/* Links principales centrados */
.navbar .nav-primary .nav-link {
    color: var(--color-2);
    padding: .4rem .75rem;
    border-radius: 999px;
}
.navbar .nav-primary .nav-link:hover,
.navbar .nav-primary .nav-link:focus {
    color: var(--color-1);
    background: rgba(var(--accent-rgb), .12);
}

/* Tema claro: color específico solicitado para opciones del nav */
[data-theme="light"] .navbar .nav-primary .nav-link {
    color: #E0BCB9;
}
[data-theme="light"] .navbar .nav-primary .nav-link:hover,
[data-theme="light"] .navbar .nav-primary .nav-link:focus {
    color: #E0BCB9;
    background: rgba(var(--accent-rgb), .18);
}

/* Acciones con iconos a la derecha */
.navbar .nav-actions .nav-icon {
    width: 40px;
    height: 40px;
    display: grid;
    place-items: center;
    border-radius: 50%;
    color: var(--color-1);
    text-decoration: none;
}
.navbar .nav-actions .nav-icon:hover,
.navbar .nav-actions .nav-icon:focus-visible {
    background: rgba(var(--bs-primary-rgb), .15);
    color: var(--color-1);
}

/* Iconos dentro de la burbuja derecha (nav-actions-shell) */
.navbar .nav-actions-shell .nav-icon {
    width: 42px;
    height: 42px;
    display: grid;
    place-items: center;
    border-radius: 50%;
    color: var(--color-1);
    text-decoration: none;
    line-height: 1;
}
.navbar .nav-actions-shell .nav-icon:hover,
.navbar .nav-actions-shell .nav-icon:focus-visible {
    background: rgba(var(--bs-primary-rgb), .15);
    color: var(--color-1);
}

    /* Tema claro: iconos blancos en la burbuja de acciones */
    [data-theme="light"] .navbar .nav-actions-shell .nav-icon {
        color: #FFFFFF;
    }
    [data-theme="light"] .navbar .nav-actions-shell .nav-icon {
        color: #FFFFFF;
    }
    [data-theme="light"] .navbar .nav-actions-shell .nav-icon:hover,
    [data-theme="light"] .navbar .nav-actions-shell .nav-icon:focus-visible {
        color: #FFFFFF;
        background: rgba(var(--bs-primary-rgb), .18);
    }

    /* Personalización del icono de tema para legibilidad según el tema */
    .navbar .nav-actions-shell #themeToggle i { font-size: 1.15rem; line-height: 1; }

    /* En tema claro, el icono de sol usa un acento cálido para mejor reconocimiento */
    html[data-theme="light"] .navbar .nav-actions-shell #themeToggle [data-icon="sun"] {
        color: #ED9E59 !important; /* acento cálido de la paleta */
    }

    /* En tema oscuro, el icono de luna usa el acento primario (azulado) */
    html:not([data-theme="light"]) .navbar .nav-actions-shell #themeToggle [data-icon="moon"] {
        color: var(--accent-primary) !important;
    }

/* Burbuja derecha de acciones */
.navbar .nav-actions-shell {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0,0,0,.35);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255,255,255,.08);
    border-radius: var(--radius-pill);
    padding: .25rem;
    gap: var(--gap-1);
    box-shadow: var(--shadow-2);
}

.navbar .nav-actions-shell .nav-icon { margin: 0 .15rem; }

/* Responsive móvil: brand centrado arriba y menú flotante justo debajo */
@media (max-width: 991.98px) {
    .navbar .navbar-row { flex-direction: column; align-items: center; gap: .35rem; }
    .navbar .navbar-brand.brand-logo {
        display: block;
        width: 100%;
        text-align: center;
        margin: .25rem 0 0 0;
        font-size: clamp(1.7rem, 1.2rem + 3vw, 2.3rem);
    }
    /* Ocultar menú central en móvil: ya existe barra inferior */
    .navbar .nav-shell { display: none; }
    .navbar .nav-shell .navbar-toggler { display: none; }
    .navbar .nav-shell .navbar-collapse { display: none !important; }
    /* Burbuja de acciones flotante a la derecha, centrada vertical y apilada (tablets y móviles por defecto) */
    .navbar .nav-actions-shell {
        position: fixed;
        top: 50%;
        right: 12px;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: rgba(0,0,0,.35);
        -webkit-backdrop-filter: blur(8px);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255,255,255,.08);
        border-radius: var(--radius-pill);
        padding: .3rem;
        gap: var(--gap-1);
        box-shadow: var(--shadow-2);
        z-index: 1030;
    }
    .navbar .nav-actions-shell .nav-icon { width: 46px; height: 46px; }
    .navbar .nav-actions-shell .nav-icon i { display: block; line-height: 1; font-size: 1.15rem; }
}

/* Móviles: burbuja horizontal arriba de la barra inferior, alineada a la derecha */
@media (max-width: 767.98px) {
    .navbar .nav-actions-shell {
        top: auto;
        bottom: calc(64px + env(safe-area-inset-bottom) + 8px);
        right: 12px;
        left: auto;
        transform: none;
        flex-direction: row;
        gap: var(--gap-2);
        padding: .3rem .4rem;
        border-radius: var(--radius-pill);
        z-index: 1031; /* por encima de la barra inferior */
    }
    .navbar .nav-actions-shell .nav-icon { width: 44px; height: 44px; }
}
